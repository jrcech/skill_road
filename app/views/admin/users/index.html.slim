ruby:
  header = {
    title: t("models.#{model_plural_symbol}.more"),
    icon: model_icon(model_plural_symbol)
  }

  action_buttons = [
    new_button
  ]

== render 'application/components/header',
  resource: @items,
  pagy: @pagy,
  query: @query,
  main_header: true,
  header: header,
  search: true,
  primary_buttons: nil,
  action_buttons: action_buttons,
  header_buttons: nil,
  link_buttons: nil

ruby:
  thead = [
    search_icon(t('tables.headings.name')),
    search_icon(t('tables.headings.email')),
    t('models.roles.one')
  ]

  tbody = []
  @items.each do |item|
    @item = item

    tbody << {
      title: item.full_name,
      cells: [
        highlight(item.full_name, @query),
        highlight(item.email, @query),
        item.role.to_s.titleize
      ],
      buttons: [
        ellipsis_button(
          edit_button,
          dropdown_separator,
          destroy_button
        )
      ],
      detail_path: path_for(:show)
    }
  end

== render 'application/components/index_table', thead: thead, tbody: tbody

footer class="row"
  div class="col-md"
    div class="dropdown"

      button [
        class="btn btn-light dropdown-toggle"
        type="button"
        id="dropdownMenuButton"
        data-toggle="dropdown"
        aria-haspopup="true"
        aria-expanded="false"
      ]
        = @pagy.vars[:items]
        '
        ' items per page

      div class="dropdown-menu" aria-labelledby="dropdownMenuButton"
        - @pagy.vars[:per_page].each do |per_page|
          = link_to per_page,
            send(current_path, items: per_page),
            class: 'dropdown-item'

  div class="col-md"

  div class="col-md"
    == pagy_bootstrap_nav(@pagy)
